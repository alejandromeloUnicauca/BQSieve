

Tue Aug  6 21:34:18 2019
Command line: TestDisk

TestDisk 7.0, Data Recovery Utility, April 2015
Christophe GRENIER <grenier@cgsecurity.org>
http://www.cgsecurity.org
OS: Linux, kernel 4.9.0-8-amd64 (#1 SMP Debian 4.9.110-3+deb9u6 (2018-10-08)) x86_64
Compiler: GCC 6.2
ext2fs lib: 1.43.4, ntfs lib: libntfs-3g, reiserfs lib: none, ewf lib: none, curses lib: ncurses 6.0
/dev/sda: LBA, LBA48 support
/dev/sda: size       63572256 sectors
/dev/sda: user_max   63572256 sectors
Warning: can't get size for Disk /dev/mapper/control - 0 B - 0 sectors, sector size=512
/dev/sr0 is not an ATA disk
Hard disk list
Disk /dev/sda - 32 GB / 30 GiB - CHS 3957 255 63, sector size=512 - VBOX HARDDISK, S/N:VBc352dbff-367e4b17, FW:1.0
Disk /dev/sdb - 4007 MB / 3822 MiB - CHS 1018 124 62, sector size=512 - Kingston DT 101 G2, FW:PMAP
Disk /dev/sr0 - 85 MB / 81 MiB - 41952 sectors (RO), sector size=2048 - VBOX CD-ROM, S/N:VB2-01700376, FW:1.0

Partition table type (auto): Intel
Disk /dev/sdb - 4007 MB / 3822 MiB - Kingston DT 101 G2
Partition table type: Intel

Analyse Disk /dev/sdb - 4007 MB / 3822 MiB - CHS 1018 124 62
Geometry from i386 MBR: head=86 sector=22
BAD_RS LBA=8064 7688
FAT32 at 1/6/5
Info: size boot_sector 7819392, partition 7819392
FAT1 : 1142-8762
FAT2 : 8763-16383
start_rootdir : 16384 root cluster : 2
Data : 16384-7819391
sectors : 7819392
cluster_size : 8
no_of_cluster : 975376 (2 - 975377)
fat_length 7621 calculated 7621
heads/cylinder 255 (FAT) != 124 (HD)
sect/track 63 (FAT) != 62 (HD)
Current partition structure:
Warning: number of heads/cylinder mismatches 255 (FAT) != 124 (HD)
Warning: number of sectors per track mismatches 63 (FAT) != 62 (HD)
 1 * FAT32                    1   6  5  1018  17 18    7819392 [VIAS B]

Bad relative sector.

search_part()
Disk /dev/sdb - 4007 MB / 3822 MiB - CHS 1018 124 62
FAT32 at 1/6/5
FAT1 : 1142-8762
FAT2 : 8763-16383
start_rootdir : 16384 root cluster : 2
Data : 16384-7819391
sectors : 7819392
cluster_size : 8
no_of_cluster : 975376 (2 - 975377)
fat_length 7621 calculated 7621
heads/cylinder 255 (FAT) != 124 (HD)
sect/track 63 (FAT) != 62 (HD)

FAT32 at 1/6/5
     FAT32                    1   6  5  1018  17 18    7819392 [VIAS B]
     FAT32, blocksize=4096, 4003 MB / 3818 MiB
Warning: the current number of heads per cylinder is 124 but the correct value may be 255.

Results
   L FAT32                    1   6  5  1018  17 18    7819392 [VIAS B]
     FAT32, blocksize=4096, 4003 MB / 3818 MiB

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 7819392 linear /dev/sdb 8064" | dmsetup create test0
add_ext_part_i386: max
add_ext_part_i386: min

interface_write()
 1 E extended                 1   0  1  1018  17 18    7819768
 5 L FAT32                    1   6  5  1018  17 18    7819392 [VIAS B]

search_part()
Disk /dev/sdb - 4007 MB / 3822 MiB - CHS 1018 124 62
FAT32 at 1/6/5
FAT1 : 1142-8762
FAT2 : 8763-16383
start_rootdir : 16384 root cluster : 2
Data : 16384-7819391
sectors : 7819392
cluster_size : 8
no_of_cluster : 975376 (2 - 975377)
fat_length 7621 calculated 7621
heads/cylinder 255 (FAT) != 124 (HD)
sect/track 63 (FAT) != 62 (HD)

FAT32 at 1/6/5
     FAT32                    1   6  5  1018  17 18    7819392 [VIAS B]
     FAT32, blocksize=4096, 4003 MB / 3818 MiB
Warning: the current number of heads per cylinder is 124 but the correct value may be 255.

Results
   L FAT32                    1   6  5  1018  17 18    7819392 [VIAS B]
     FAT32, blocksize=4096, 4003 MB / 3818 MiB

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 7819392 linear /dev/sdb 8064" | dmsetup create test0
add_ext_part_i386: max
add_ext_part_i386: min

interface_write()
 1 E extended                 1   0  1  1018  17 18    7819768
 5 L FAT32                    1   6  5  1018  17 18    7819392 [VIAS B]
simulate write!

write_mbr_i386: starting...
write_all_log_i386: starting...
write_all_log_i386: CHS: 1/0/1,lba=7688

Interface Advanced
Geometry from i386 MBR: head=86 sector=22
BAD_RS LBA=8064 7688
FAT32 at 1/6/5
Info: size boot_sector 7819392, partition 7819392
FAT1 : 1142-8762
FAT2 : 8763-16383
start_rootdir : 16384 root cluster : 2
Data : 16384-7819391
sectors : 7819392
cluster_size : 8
no_of_cluster : 975376 (2 - 975377)
fat_length 7621 calculated 7621
heads/cylinder 255 (FAT) != 124 (HD)
sect/track 63 (FAT) != 62 (HD)
 1 * FAT32                    1   6  5  1018  17 18    7819392 [VIAS B]
     FAT32, blocksize=4096, 4003 MB / 3818 MiB

TestDisk exited normally.
